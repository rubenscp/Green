<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- 
	Name: top.xhtml
	Description: This code defines top content of the main form  
	Author: Rubens de Castro Pereira 
	Version: 0.1
	Date: 14/08/2016
 -->

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>

	<ui:composition>

		<h:outputStylesheet name="/templates/css/GreenStyle.css" />

		<!-- Superior region of the main form -->
		<p:layoutUnit id="Header_Green" position="north" size="60"
			resizable="false" closable="false" collapsible="false" gutter="0">

			<h:form>

				<h:panelGrid columns="2" style="width:100%"
					columnClasses="greenTitleTop,greenRightTop">

					<!-- Title of system Green -->
					<h:panelGrid columns="1">
						<h:outputLabel
							value="#{labels['green.web.shortName']} - #{labels['green.web.fullName']}" />
					</h:panelGrid>

					<h:panelGrid columns="3"
						columnClasses="greenPersonTop,greenLogoutTop">

						<!-- Name of the logged person  -->
						<p:commandLink id="personName" action="loggedPerson.xhtml"
							ajax="false">
							<h:outputText id="personNameOutputText"
								value="#{sessionController.compactNamePerson}"
								styleClass="greenPersonName" />
						</p:commandLink>

						<p:spacer />

						<!-- Logout button -->
						<p:commandLink id="logout"
							actionListener="#{sessionController.logout}" ajax="false"
							rendered="#{sessionController.personLogged}">
							<img src="#{request.contextPath}/templates/images/logout_01.jpg"
								alt="#{labels['menu.logged.person.logout']}" height="16"
								width="16" />
							<p:confirm message="#{labels['menu.logout.person.message']}"
								icon="#{configuration['icon.button.confirm.alert']}" />
						</p:commandLink>


					</h:panelGrid>

				</h:panelGrid>

			</h:form>


			<!-- Confirm dialog used by logout operation  -->
			<h:form>
				<p:confirmDialog id="logoutConfirmDialog"
					widgetVar="logoutConfirmDialog" global="true" showEffect="fade"
					hideEffect="fade" closable="false">

					<h:panelGrid columns="2" width="100%"
						columnClasses="greenPanelgridColumnCenter,greenPanelgridColumnCenter">
						<p:commandButton
							value="#{labels['menu.logout.person.button.yes']}" type="button"
							styleClass="ui-confirmdialog-yes greenConfirmDialogButton"
							style="width:6em !important"
							icon="#{configuration['icon.button.confirm.check']}" />
						<p:commandButton value="#{labels['menu.logout.person.button.no']}"
							type="button"
							styleClass="ui-confirmdialog-no greenConfirmDialogButton"
							style="width:6em !important"
							icon="#{configuration['icon.button.confirm.close']}" />
					</h:panelGrid>

				</p:confirmDialog>

			</h:form>

		</p:layoutUnit>

	</ui:composition>


</h:body>

</html>